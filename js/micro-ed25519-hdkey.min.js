(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.microEd25519Hdkey=t()}})(function(){var t,e,n;return function(){function a(o,i,c){function f(n,t){if(!i[n]){if(!o[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(h)return h(n,!0);var s=new Error("Cannot find module '"+n+"'");throw s.code="MODULE_NOT_FOUND",s}var r=i[n]={exports:{}};o[n][0].call(r.exports,function(t){var e=o[n][1][t];return f(e||t)},r,r.exports,a,o,i,c)}return i[n].exports}for(var h="function"==typeof require&&require,t=0;t<c.length;t++)f(c[t]);return f}return a}()({1:[function(F,j,h){"use strict";Object.defineProperty(h,"__esModule",{value:true});h.utils=h.curve25519=h.getSharedSecret=h.sync=h.verify=h.sign=h.getPublicKey=h.hexToBytes=h.bytesToHex=h.Signature=h.RistrettoPoint=h.Point=h.ExtendedPoint=h.CURVE=void 0;const D=F("crypto");const U=BigInt(0);const I=BigInt(1);const x=BigInt(2);const M=BigInt(8);const t=BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989");const L=Object.freeze({a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),P:BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),l:t,n:t,h:BigInt(8),Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960")});h.CURVE=L;const d=BigInt("0x10000000000000000000000000000000000000000000000000000000000000000");const y=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");const N=BigInt("6853475219497561581579357271197624642482790079785650197046958215289687604742");const G=BigInt("25063068953384623474111414158702152701244531502492656460079210482610430750235");const K=BigInt("54469307008909316920995813868745141605393597292927456921205312896311721017578");const k=BigInt("1159843021668779879193775521855586647937357759715417654439879720876111806838");const V=BigInt("40440834346308536858101042469323190826248399146238708352240133220865137265952");class H{constructor(t,e,n,s){this.x=t;this.y=e;this.z=n;this.t=s}static fromAffine(t){if(!(t instanceof w)){throw new TypeError("ExtendedPoint#fromAffine: expected Point")}if(t.equals(w.ZERO))return H.ZERO;return new H(t.x,t.y,I,R(t.x*t.y))}static toAffineBatch(t){const n=Y(t.map(t=>t.z));return t.map((t,e)=>t.toAffine(n[e]))}static normalizeZ(t){return this.toAffineBatch(t).map(this.fromAffine)}equals(t){Z(t);const{x:e,y:n,z:s}=this;const{x:r,y:o,z:i}=t;const c=R(e*i);const f=R(r*s);const h=R(n*i);const a=R(o*s);return c===f&&h===a}negate(){return new H(R(-this.x),this.y,this.z,R(-this.t))}double(){const{x:t,y:e,z:n}=this;const{a:s}=L;const r=R;const o=r(t*t);const i=r(e*e);const c=r(x*r(n*n));const f=r(s*o);const h=t+e;const a=r(r(h*h)-o-i);const u=f+i;const l=u-c;const d=f-i;const p=r(a*l);const y=r(u*d);const b=r(a*d);const w=r(l*u);return new H(p,y,w,b)}add(t){const{x:e,y:n,z:s,t:r}=this;Z(t);const{x:o,y:i,z:c,t:f}=t;const{a:h,d:a}=L;const u=R;const l=u(e*o);const d=u(n*i);const p=u(r*a*f);const y=u(s*c);const b=u((e+n)*(o+i)-l-d);const w=u(y-p);const g=u(y+p);const x=u(d-h*l);const E=u(b*w);const B=u(g*x);const m=u(b*x);const A=u(w*g);return new H(E,B,A,m)}subtract(t){return this.add(t.negate())}precomputeWindow(e){const n=1+256/e;const s=[];let r=this;let o=r;for(let t=0;t<n;t++){o=r;s.push(o);for(let t=1;t<2**(e-1);t++){o=o.add(r);s.push(o)}r=o.double()}return s}wNAF(n,t){if(!t&&this.equals(H.BASE))t=w.BASE;const e=t&&t._WINDOW_SIZE||1;if(256%e){throw new Error("Point#wNAF: Invalid precomputation window, must be power of 2")}let s=t&&b.get(t);if(!s){s=this.precomputeWindow(e);if(t&&e!==1){s=H.normalizeZ(s);b.set(t,s)}}let r=H.ZERO;let o=H.BASE;const i=1+256/e;const c=2**(e-1);const f=BigInt(2**e-1);const h=2**e;const a=BigInt(e);for(let e=0;e<i;e++){const u=e*c;let t=Number(n&f);n>>=a;if(t>c){t-=h;n+=I}const l=u;const d=u+Math.abs(t)-1;const p=e%2!==0;const y=t<0;if(t===0){o=o.add(z(p,s[l]))}else{r=r.add(z(y,s[d]))}}return H.normalizeZ([r,o])[0]}multiply(t,e){return this.wNAF(T(t,L.l),e)}multiplyUnsafe(t){let e=T(t,L.l,false);const n=H.BASE;const s=H.ZERO;if(e===U)return s;if(this.equals(s)||e===I)return this;if(this.equals(n))return this.wNAF(e);let r=s;let o=this;while(e>U){if(e&I)r=r.add(o);o=o.double();e>>=I}return r}isSmallOrder(){return this.multiplyUnsafe(L.h).equals(H.ZERO)}isTorsionFree(){let t=this.multiplyUnsafe(L.l/x).double();if(L.l%x)t=t.add(this);return t.equals(H.ZERO)}toAffine(t){const{x:e,y:n,z:s}=this;const r=this.equals(H.ZERO);if(t==null)t=r?M:f(s);const o=R(e*t);const i=R(n*t);const c=R(s*t);if(r)return w.ZERO;if(c!==I)throw new Error("invZ was invalid");return new w(o,i)}fromRistrettoBytes(){e()}toRistrettoBytes(){e()}fromRistrettoHash(){e()}}h.ExtendedPoint=H;H.BASE=new H(L.Gx,L.Gy,I,R(L.Gx*L.Gy));H.ZERO=new H(U,I,I,U);function z(t,e){const n=e.negate();return t?n:e}function Z(t){if(!(t instanceof H))throw new TypeError("ExtendedPoint expected")}function o(t){if(!(t instanceof g))throw new TypeError("RistrettoPoint expected")}function e(){throw new Error("Legacy method: switch to RistrettoPoint")}class g{constructor(t){this.ep=t}static calcElligatorRistrettoMap(t){const{d:e}=L;const n=R(y*t*t);const s=R((n+I)*k);let r=BigInt(-1);const o=R((r-e*n)*R(n+e));let{isValid:i,value:c}=A(s,o);let f=R(c*t);if(!B(f))f=R(-f);if(!i)c=f;if(!i)r=n;const h=R(r*(n-I)*V-o);const a=c*c;const u=R((c+c)*o);const l=R(h*G);const d=R(I-a);const p=R(I+a);return new H(R(u*p),R(d*l),R(l*p),R(u*d))}static hashToCurve(t){t=S(t,64);const e=m(t.slice(0,32));const n=this.calcElligatorRistrettoMap(e);const s=m(t.slice(32,64));const r=this.calcElligatorRistrettoMap(s);return new g(n.add(r))}static fromHex(t){t=S(t,32);const{a:e,d:n}=L;const s="RistrettoPoint.fromHex: the hex is not valid encoding of RistrettoPoint";const r=m(t);if(!nt(E(r),t)||B(r))throw new Error(s);const o=R(r*r);const i=R(I+e*o);const c=R(I-e*o);const f=R(i*i);const h=R(c*c);const a=R(e*n*f-h);const{isValid:u,value:l}=et(R(a*h));const d=R(l*c);const p=R(l*d*a);let y=R((r+r)*d);if(B(y))y=R(-y);const b=R(i*p);const w=R(y*b);if(!u||B(w)||b===U)throw new Error(s);return new g(new H(y,b,I,w))}toRawBytes(){let{x:n,y:s,z:t,t:e}=this.ep;const r=R(R(t+s)*R(t-s));const o=R(n*s);const i=R(o*o);const{value:c}=et(R(r*i));const f=R(c*r);const h=R(c*o);const a=R(f*h*e);let u;if(B(e*a)){let t=R(s*y);let e=R(n*y);n=t;s=e;u=R(f*K)}else{u=h}if(B(n*a))s=R(-s);let l=R((t-s)*u);if(B(l))l=R(-l);return E(l)}toHex(){return n(this.toRawBytes())}toString(){return this.toHex()}equals(t){o(t);const e=this.ep;const n=t.ep;const s=R(e.x*n.y)===R(e.y*n.x);const r=R(e.y*n.y)===R(e.x*n.x);return s||r}add(t){o(t);return new g(this.ep.add(t.ep))}subtract(t){o(t);return new g(this.ep.subtract(t.ep))}multiply(t){return new g(this.ep.multiply(t))}multiplyUnsafe(t){return new g(this.ep.multiplyUnsafe(t))}}h.RistrettoPoint=g;g.BASE=new g(H.BASE);g.ZERO=new g(H.ZERO);const b=new WeakMap;class w{constructor(t,e){this.x=t;this.y=e}_setWindowSize(t){this._WINDOW_SIZE=t;b.delete(this)}static fromHex(t,e=true){const{d:n,P:s}=L;t=S(t,32);const r=t.slice();r[31]=t[31]&~128;const o=p(r);if(e&&o>=s)throw new Error("Expected 0 < hex < P");if(!e&&o>=d)throw new Error("Expected 0 < hex < 2**256");const i=R(o*o);const c=R(i-I);const f=R(n*i+I);let{isValid:h,value:a}=A(c,f);if(!h)throw new Error("Point.fromHex: invalid y coordinate");const u=(a&I)===I;const l=(t[31]&128)!==0;if(l!==u){a=R(-a)}return new w(a,o)}static async fromPrivateKey(t){return(await v(t)).point}toRawBytes(){const t=E(this.y);t[31]|=this.x&I?128:0;return t}toHex(){return n(this.toRawBytes())}toX25519(){const{y:t}=this;const e=R((I+t)*f(I-t));return E(e)}isTorsionFree(){return H.fromAffine(this).isTorsionFree()}equals(t){return this.x===t.x&&this.y===t.y}negate(){return new w(R(-this.x),this.y)}add(t){return H.fromAffine(this).add(H.fromAffine(t)).toAffine()}subtract(t){return this.add(t.negate())}multiply(t){return H.fromAffine(this).multiply(t,this).toAffine()}}h.Point=w;w.BASE=new w(L.Gx,L.Gy);w.ZERO=new w(U,I);class a{constructor(t,e){this.r=t;this.s=e;this.assertValidity()}static fromHex(t){const e=S(t,64);const n=w.fromHex(e.slice(0,32),false);const s=p(e.slice(32,64));return new a(n,s)}assertValidity(){const{r:t,s:e}=this;if(!(t instanceof w))throw new Error("Expected Point instance");T(e,L.l,false);return this}toRawBytes(){const t=new Uint8Array(64);t.set(this.r.toRawBytes());t.set(E(this.s),32);return t}toHex(){return n(this.toRawBytes())}}h.Signature=a;function q(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function i(t){if(!q(t))throw new Error("Uint8Array expected")}function $(...n){n.every(i);if(n.length===1)return n[0];const t=n.reduce((t,e)=>t+e.length,0);const s=new Uint8Array(t);for(let t=0,e=0;t<n.length;t++){const r=n[t];s.set(r,e);e+=r.length}return s}const W=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function n(e){i(e);let n="";for(let t=0;t<e.length;t++){n+=W[e[t]]}return n}h.bytesToHex=n;const s={_0:48,_9:57,A:65,F:70,a:97,f:102};function X(t){if(t>=s._0&&t<=s._9)return t-s._0;if(t>=s.A&&t<=s.F)return t-(s.A-10);if(t>=s.a&&t<=s.f)return t-(s.a-10);return}function r(n){if(typeof n!=="string")throw new Error("hex string expected, got "+typeof n);const t=n.length;const s=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);const r=new Uint8Array(s);for(let t=0,e=0;t<s;t++,e+=2){const o=X(n.charCodeAt(e));const i=X(n.charCodeAt(e+1));if(o===undefined||i===undefined){const c=n[e]+n[e+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+e)}r[t]=o*16+i}return r}h.hexToBytes=r;function J(t){const e=32;const n=t.toString(16).padStart(e*2,"0");return r(n)}function E(t){return J(t).reverse()}function B(t){return(R(t)&I)===I}function p(t){i(t);return BigInt("0x"+n(Uint8Array.from(t).reverse()))}const Q=BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function m(t){return R(p(t)&Q)}function R(t,e=L.P){const n=t%e;return n>=U?n:e+n}function f(t,e=L.P){if(t===U||e<=U){throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`)}let n=R(t,e);let s=e;let r=U,o=I,i=I,c=U;while(n!==U){const h=s/n;const a=s%n;const u=r-i*h;const l=o-c*h;s=n,n=a,r=i,o=c,i=u,c=l}const f=s;if(f!==I)throw new Error("invert: does not exist");return R(r,e)}function Y(t,s=L.P){const r=new Array(t.length);const e=t.reduce((t,e,n)=>{if(e===U)return t;r[n]=t;return R(t*e,s)},I);const n=f(e,s);t.reduceRight((t,e,n)=>{if(e===U)return t;r[n]=R(t*r[n],s);return R(t*e,s)},n);return r}function O(t,e){const{P:n}=L;let s=t;while(e-- >U){s*=s;s%=n}return s}function tt(t){const{P:e}=L;const n=BigInt(5);const s=BigInt(10);const r=BigInt(20);const o=BigInt(40);const i=BigInt(80);const c=t*t%e;const f=c*t%e;const h=O(f,x)*f%e;const a=O(h,I)*t%e;const u=O(a,n)*a%e;const l=O(u,s)*u%e;const d=O(l,r)*l%e;const p=O(d,o)*d%e;const y=O(p,i)*p%e;const b=O(y,i)*p%e;const w=O(b,s)*u%e;const g=O(w,x)*t%e;return{pow_p_5_8:g,b2:f}}function A(t,e){const n=R(e*e*e);const s=R(n*n*e);const r=tt(t*s).pow_p_5_8;let o=R(t*n*r);const i=R(e*o*o);const c=o;const f=R(o*y);const h=i===t;const a=i===R(-t);const u=i===R(-t*y);if(h)o=c;if(a||u)o=f;if(B(o))o=R(-o);return{isValid:h||a,value:o}}function et(t){return A(I,t)}function u(t){return R(p(t),L.l)}function nt(e,n){if(e.length!==n.length){return false}for(let t=0;t<e.length;t++){if(e[t]!==n[t]){return false}}return true}function S(t,e){const n=q(t)?Uint8Array.from(t):r(t);if(typeof e==="number"&&n.length!==e)throw new Error(`Expected ${e} bytes`);return n}function T(t,e,n=true){if(!e)throw new TypeError("Specify max value");if(typeof t==="number"&&Number.isSafeInteger(t))t=BigInt(t);if(typeof t==="bigint"&&t<e){if(n){if(U<t)return t}else{if(U<=t)return t}}throw new TypeError("Expected valid scalar: 0 < scalar < max")}function st(t){t[0]&=248;t[31]&=127;t[31]|=64;return t}function rt(t){return p(st(S(t,32)))}function ot(t){t=typeof t==="bigint"||typeof t==="number"?J(T(t,d)):S(t);if(t.length!==32)throw new Error(`Expected 32 bytes`);return t}function it(t){const e=st(t.slice(0,32));const n=t.slice(32,64);const s=u(e);const r=w.BASE.multiply(s);const o=r.toRawBytes();return{head:e,prefix:n,scalar:s,point:r,pointBytes:o}}let c;function l(...t){if(typeof c!=="function")throw new Error("utils.sha512Sync must be set to use sync methods");return c(...t)}async function v(t){return it(await h.utils.sha512(ot(t)))}function _(t){return it(l(ot(t)))}async function ct(t){return(await v(t)).pointBytes}h.getPublicKey=ct;function ft(t){return _(t).pointBytes}async function ht(t,e){t=S(t);const{prefix:n,scalar:s,pointBytes:r}=await v(e);const o=u(await h.utils.sha512(n,t));const i=w.BASE.multiply(o);const c=u(await h.utils.sha512(i.toRawBytes(),r,t));const f=R(o+c*s,L.l);return new a(i,f).toRawBytes()}h.sign=ht;function at(t,e){t=S(t);const{prefix:n,scalar:s,pointBytes:r}=_(e);const o=u(l(n,t));const i=w.BASE.multiply(o);const c=u(l(i.toRawBytes(),r,t));const f=R(o+c*s,L.l);return new a(i,f).toRawBytes()}function ut(t,e,n){e=S(e);if(!(n instanceof w))n=w.fromHex(n,false);const{r:s,s:r}=t instanceof a?t.assertValidity():a.fromHex(t);const o=H.BASE.multiplyUnsafe(r);return{r:s,s:r,SB:o,pub:n,msg:e}}function lt(t,e,n,s){const r=u(s);const o=H.fromAffine(t).multiplyUnsafe(r);const i=H.fromAffine(e).add(o);return i.subtract(n).multiplyUnsafe(L.h).equals(H.ZERO)}async function dt(t,e,n){const{r:s,SB:r,msg:o,pub:i}=ut(t,e,n);const c=await h.utils.sha512(s.toRawBytes(),i.toRawBytes(),o);return lt(i,s,r,c)}h.verify=dt;function pt(t,e,n){const{r:s,SB:r,msg:o,pub:i}=ut(t,e,n);const c=l(s.toRawBytes(),i.toRawBytes(),o);return lt(i,s,r,c)}h.sync={getExtendedPublicKey:_,getPublicKey:ft,sign:at,verify:pt};async function yt(t,e){const{head:n}=await v(t);const s=w.fromHex(e).toX25519();return h.curve25519.scalarMult(n,s)}h.getSharedSecret=yt;w.BASE._setWindowSize(8);function C(t,e,n){const s=R(t*(e-n));e=R(e-s);n=R(n+s);return[e,n]}function bt(t,e){const{P:n}=L;const s=T(t,n);const r=T(e,n);const o=BigInt(121665);const i=s;let c=I;let f=U;let h=s;let a=I;let u=U;let l;for(let t=BigInt(255-1);t>=U;t--){const b=r>>t&I;u^=b;l=C(u,c,h);c=l[0];h=l[1];l=C(u,f,a);f=l[0];a=l[1];u=b;const w=c+f;const g=R(w*w);const x=c-f;const E=R(x*x);const B=g-E;const m=h+a;const A=h-a;const H=R(A*w);const S=R(m*x);const v=H+S;const _=H-S;h=R(v*v);a=R(i*R(_*_));c=R(g*E);f=R(B*(g+R(o*B)))}l=C(u,c,h);c=l[0];h=l[1];l=C(u,f,a);f=l[0];a=l[1];const{pow_p_5_8:d,b2:p}=tt(f);const y=R(O(d,BigInt(3))*p);return R(c*y)}function wt(t){return E(R(t,L.P))}function gt(t){const e=S(t,32);e[31]&=127;return p(e)}h.curve25519={BASE_POINT_U:"0900000000000000000000000000000000000000000000000000000000000000",scalarMult(t,e){const n=gt(e);const s=rt(t);const r=bt(n,s);if(r===U)throw new Error("Invalid private or public key received");return wt(r)},scalarMultBase(t){return h.curve25519.scalarMult(t,h.curve25519.BASE_POINT_U)}};const P={node:D,web:typeof self==="object"&&"crypto"in self?self.crypto:undefined};h.utils={bytesToHex:n,hexToBytes:r,concatBytes:$,getExtendedPublicKey:v,mod:R,invert:f,TORSION_SUBGROUP:["0100000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac037a","0000000000000000000000000000000000000000000000000000000000000080","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc05","ecffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff7f","26e8958fc2b227b045c3f489f2ef98f0d5dfac05d3c63339b13802886d53fc85","0000000000000000000000000000000000000000000000000000000000000000","c7176a703d4dd84fba3c0b760d10670f2a2053fa2c39ccc64ec7fd7792ac03fa"],hashToPrivateScalar:t=>{t=S(t);if(t.length<40||t.length>1024)throw new Error("Expected 40-1024 bytes of private key as per FIPS 186");return R(p(t),L.l-I)+I},randomBytes:(t=32)=>{if(P.web){return P.web.getRandomValues(new Uint8Array(t))}else if(P.node){const{randomBytes:e}=P.node;return new Uint8Array(e(t).buffer)}else{throw new Error("The environment doesn't have randomBytes function")}},randomPrivateKey:()=>{return h.utils.randomBytes(32)},sha512:async(...t)=>{const e=$(...t);if(P.web){const n=await P.web.subtle.digest("SHA-512",e.buffer);return new Uint8Array(n)}else if(P.node){return Uint8Array.from(P.node.createHash("sha512").update(e).digest())}else{throw new Error("The environment doesn't have sha512 function")}},precompute(t=8,e=w.BASE){const n=e.equals(w.BASE)?e:new w(e.x,e.y);n._setWindowSize(t);n.multiply(x);return n},sha512Sync:undefined};Object.defineProperties(h.utils,{sha512Sync:{configurable:false,get(){return c},set(t){if(!c)c=t}}})},{crypto:2}],2:[function(t,e,n){},{}],3:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.output=n.exists=n.hash=n.bytes=n.bool=n.number=void 0;function s(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}n.number=s;function r(t){if(typeof t!=="boolean")throw new Error(`Expected boolean, not ${t}`)}n.bool=r;function o(t,...e){if(!(t instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new TypeError(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}n.bytes=o;function i(t){if(typeof t!=="function"||typeof t.create!=="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");s(t.outputLen);s(t.blockLen)}n.hash=i;function c(t,e=true){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}n.exists=c;function f(t,e){o(t);const n=e.outputLen;if(t.length<n){throw new Error(`digestInto() expects output buffer of length at least ${n}`)}}n.output=f;const h={number:s,bool:r,bytes:o,hash:i,exists:c,output:f};n.default=h},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.SHA2=void 0;const a=t("./_assert.js");const u=t("./utils.js");function l(t,e,n,s){if(typeof t.setBigUint64==="function")return t.setBigUint64(e,n,s);const r=BigInt(32);const o=BigInt(4294967295);const i=Number(n>>r&o);const c=Number(n&o);const f=s?4:0;const h=s?0:4;t.setUint32(e+f,i,s);t.setUint32(e+h,c,s)}class s extends u.Hash{constructor(t,e,n,s){super();this.blockLen=t;this.outputLen=e;this.padOffset=n;this.isLE=s;this.finished=false;this.length=0;this.pos=0;this.destroyed=false;this.buffer=new Uint8Array(t);this.view=(0,u.createView)(this.buffer)}update(e){a.default.exists(this);const{view:n,buffer:s,blockLen:r}=this;e=(0,u.toBytes)(e);const o=e.length;for(let t=0;t<o;){const i=Math.min(r-this.pos,o-t);if(i===r){const c=(0,u.createView)(e);for(;r<=o-t;t+=r)this.process(c,t);continue}s.set(e.subarray(t,t+i),this.pos);this.pos+=i;t+=i;if(this.pos===r){this.process(n,0);this.pos=0}}this.length+=e.length;this.roundClean();return this}digestInto(t){a.default.exists(this);a.default.output(t,this);this.finished=true;const{buffer:e,view:n,blockLen:s,isLE:r}=this;let{pos:o}=this;e[o++]=128;this.buffer.subarray(o).fill(0);if(this.padOffset>s-o){this.process(n,0);o=0}for(let t=o;t<s;t++)e[t]=0;l(n,s-8,BigInt(this.length*8),r);this.process(n,0);const i=(0,u.createView)(t);const c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const f=c/4;const h=this.get();if(f>h.length)throw new Error("_sha2: outputLen bigger than state");for(let t=0;t<f;t++)i.setUint32(4*t,h[t],r)}digest(){const{buffer:t,outputLen:e}=this;this.digestInto(t);const n=t.slice(0,e);this.destroy();return n}_cloneInto(t){t||(t=new this.constructor);t.set(...this.get());const{blockLen:e,buffer:n,length:s,finished:r,destroyed:o,pos:i}=this;t.length=s;t.pos=i;t.finished=r;t.destroyed=o;if(s%e)t.buffer.set(n);return t}}n.SHA2=s},{"./_assert.js":3,"./utils.js":11}],5:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.add=n.toBig=n.split=n.fromBig=void 0;const s=BigInt(2**32-1);const r=BigInt(32);function c(t,e=false){if(e)return{h:Number(t&s),l:Number(t>>r&s)};return{h:Number(t>>r&s)|0,l:Number(t&s)|0}}n.fromBig=c;function o(e,n=false){let s=new Uint32Array(e.length);let r=new Uint32Array(e.length);for(let t=0;t<e.length;t++){const{h:o,l:i}=c(e[t],n);[s[t],r[t]]=[o,i]}return[s,r]}n.split=o;const i=(t,e)=>BigInt(t>>>0)<<r|BigInt(e>>>0);n.toBig=i;const f=(t,e,n)=>t>>>n;const h=(t,e,n)=>t<<32-n|e>>>n;const a=(t,e,n)=>t>>>n|e<<32-n;const u=(t,e,n)=>t<<32-n|e>>>n;const l=(t,e,n)=>t<<64-n|e>>>n-32;const d=(t,e,n)=>t>>>n-32|e<<64-n;const p=(t,e)=>e;const y=(t,e)=>t;const b=(t,e,n)=>t<<n|e>>>32-n;const w=(t,e,n)=>e<<n|t>>>32-n;const g=(t,e,n)=>e<<n-32|t>>>64-n;const x=(t,e,n)=>t<<n-32|e>>>64-n;function E(t,e,n,s){const r=(e>>>0)+(s>>>0);return{h:t+n+(r/2**32|0)|0,l:r|0}}n.add=E;const B=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0);const m=(t,e,n,s)=>e+n+s+(t/2**32|0)|0;const A=(t,e,n,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0);const H=(t,e,n,s,r)=>e+n+s+r+(t/2**32|0)|0;const S=(t,e,n,s,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(s>>>0)+(r>>>0);const v=(t,e,n,s,r,o)=>e+n+s+r+o+(t/2**32|0)|0;const _={fromBig:c,split:o,toBig:n.toBig,shrSH:f,shrSL:h,rotrSH:a,rotrSL:u,rotrBH:l,rotrBL:d,rotr32H:p,rotr32L:y,rotlSH:b,rotlSL:w,rotlBH:g,rotlBL:x,add:E,add3L:B,add3H:m,add4L:A,add4H:H,add5H:v,add5L:S};n.default=_},{}],6:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.crypto=void 0;n.crypto={node:undefined,web:typeof self==="object"&&"crypto"in self?self.crypto:undefined}},{}],7:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.hmac=void 0;const o=t("./_assert.js");const i=t("./utils.js");class s extends i.Hash{constructor(t,e){super();this.finished=false;this.destroyed=false;o.default.hash(t);const n=(0,i.toBytes)(e);this.iHash=t.create();if(typeof this.iHash.update!=="function")throw new TypeError("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen;this.outputLen=this.iHash.outputLen;const s=this.blockLen;const r=new Uint8Array(s);r.set(n.length>s?t.create().update(n).digest():n);for(let t=0;t<r.length;t++)r[t]^=54;this.iHash.update(r);this.oHash=t.create();for(let t=0;t<r.length;t++)r[t]^=54^92;this.oHash.update(r);r.fill(0)}update(t){o.default.exists(this);this.iHash.update(t);return this}digestInto(t){o.default.exists(this);o.default.bytes(t,this.outputLen);this.finished=true;this.iHash.digestInto(t);this.oHash.update(t);this.oHash.digestInto(t);this.destroy()}digest(){const t=new Uint8Array(this.oHash.outputLen);this.digestInto(t);return t}_cloneInto(t){t||(t=Object.create(Object.getPrototypeOf(this),{}));const{oHash:e,iHash:n,finished:s,destroyed:r,blockLen:o,outputLen:i}=this;t=t;t.finished=s;t.destroyed=r;t.blockLen=o;t.outputLen=i;t.oHash=e._cloneInto(t.oHash);t.iHash=n._cloneInto(t.iHash);return t}destroy(){this.destroyed=true;this.oHash.destroy();this.iHash.destroy()}}const r=(t,e,n)=>new s(t,e).update(n).digest();n.hmac=r;n.hmac.create=(t,e)=>new s(t,e)},{"./_assert.js":3,"./utils.js":11}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.ripemd160=n.RIPEMD160=void 0;const s=t("./_sha2.js");const r=t("./utils.js");const o=new Uint8Array([7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8]);const i=Uint8Array.from({length:16},(t,e)=>e);const c=i.map(t=>(9*t+5)%16);let m=[i];let A=[c];for(let e=0;e<4;e++)for(let t of[m,A])t.push(t[e].map(t=>o[t]));const f=[[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8],[12,13,11,15,6,9,9,7,12,15,11,13,7,8,7,7],[13,15,14,11,7,7,6,8,13,14,13,12,5,5,6,9],[14,11,12,14,8,6,5,5,15,12,15,14,9,9,8,6],[15,12,13,13,9,5,8,6,14,11,12,11,8,6,5,5]].map(t=>new Uint8Array(t));const H=m.map((t,e)=>t.map(t=>f[e][t]));const S=A.map((t,e)=>t.map(t=>f[e][t]));const v=new Uint32Array([0,1518500249,1859775393,2400959708,2840853838]);const _=new Uint32Array([1352829926,1548603684,1836072691,2053994217,0]);const U=(t,e)=>t<<e|t>>>32-e;function I(t,e,n,s){if(t===0)return e^n^s;else if(t===1)return e&n|~e&s;else if(t===2)return(e|~n)^s;else if(t===3)return e&s|n&~s;else return e^(n|~s)}const L=new Uint32Array(16);class h extends s.SHA2{constructor(){super(64,20,8,true);this.h0=1732584193|0;this.h1=4023233417|0;this.h2=2562383102|0;this.h3=271733878|0;this.h4=3285377520|0}get(){const{h0:t,h1:e,h2:n,h3:s,h4:r}=this;return[t,e,n,s,r]}set(t,e,n,s,r){this.h0=t|0;this.h1=e|0;this.h2=n|0;this.h3=s|0;this.h4=r|0}process(e,n){for(let t=0;t<16;t++,n+=4)L[t]=e.getUint32(n,true);let s=this.h0|0,r=s,o=this.h1|0,i=o,c=this.h2|0,f=c,h=this.h3|0,a=h,u=this.h4|0,l=u;for(let e=0;e<5;e++){const d=4-e;const p=v[e],y=_[e];const b=m[e],w=A[e];const g=H[e],x=S[e];for(let t=0;t<16;t++){const E=U(s+I(e,o,c,h)+L[b[t]]+p,g[t])+u|0;s=u,u=h,h=U(c,10)|0,c=o,o=E}for(let t=0;t<16;t++){const B=U(r+I(d,i,f,a)+L[w[t]]+y,x[t])+l|0;r=l,l=a,a=U(f,10)|0,f=i,i=B}}this.set(this.h1+c+a|0,this.h2+h+l|0,this.h3+u+r|0,this.h4+s+i|0,this.h0+o+f|0)}roundClean(){L.fill(0)}destroy(){this.destroyed=true;this.buffer.fill(0);this.set(0,0,0,0,0)}}n.RIPEMD160=h;n.ripemd160=(0,r.wrapConstructor)(()=>new h)},{"./_sha2.js":4,"./utils.js":11}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.sha224=n.sha256=void 0;const s=t("./_sha2.js");const x=t("./utils.js");const E=(t,e,n)=>t&e^~t&n;const B=(t,e,n)=>t&e^t&n^e&n;const m=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);const r=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]);const A=new Uint32Array(64);class o extends s.SHA2{constructor(){super(64,32,8,false);this.A=r[0]|0;this.B=r[1]|0;this.C=r[2]|0;this.D=r[3]|0;this.E=r[4]|0;this.F=r[5]|0;this.G=r[6]|0;this.H=r[7]|0}get(){const{A:t,B:e,C:n,D:s,E:r,F:o,G:i,H:c}=this;return[t,e,n,s,r,o,i,c]}set(t,e,n,s,r,o,i,c){this.A=t|0;this.B=e|0;this.C=n|0;this.D=s|0;this.E=r|0;this.F=o|0;this.G=i|0;this.H=c|0}process(e,n){for(let t=0;t<16;t++,n+=4)A[t]=e.getUint32(n,false);for(let t=16;t<64;t++){const u=A[t-15];const l=A[t-2];const d=(0,x.rotr)(u,7)^(0,x.rotr)(u,18)^u>>>3;const p=(0,x.rotr)(l,17)^(0,x.rotr)(l,19)^l>>>10;A[t]=p+A[t-7]+d+A[t-16]|0}let{A:s,B:r,C:o,D:i,E:c,F:f,G:h,H:a}=this;for(let t=0;t<64;t++){const y=(0,x.rotr)(c,6)^(0,x.rotr)(c,11)^(0,x.rotr)(c,25);const b=a+y+E(c,f,h)+m[t]+A[t]|0;const w=(0,x.rotr)(s,2)^(0,x.rotr)(s,13)^(0,x.rotr)(s,22);const g=w+B(s,r,o)|0;a=h;h=f;f=c;c=i+b|0;i=o;o=r;r=s;s=b+g|0}s=s+this.A|0;r=r+this.B|0;o=o+this.C|0;i=i+this.D|0;c=c+this.E|0;f=f+this.F|0;h=h+this.G|0;a=a+this.H|0;this.set(s,r,o,i,c,f,h,a)}roundClean(){A.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0);this.buffer.fill(0)}}class i extends o{constructor(){super();this.A=3238371032|0;this.B=914150663|0;this.C=812702999|0;this.D=4144912697|0;this.E=4290775857|0;this.F=1750603025|0;this.G=1694076839|0;this.H=3204075428|0;this.outputLen=28}}n.sha256=(0,x.wrapConstructor)(()=>new o);n.sha224=(0,x.wrapConstructor)(()=>new i)},{"./_sha2.js":4,"./utils.js":11}],10:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:true});n.sha384=n.sha512_256=n.sha512_224=n.sha512=n.SHA512=void 0;const s=t("./_sha2.js");const G=t("./_u64.js");const r=t("./utils.js");const[K,k]=G.default.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t)));const V=new Uint32Array(80);const z=new Uint32Array(80);class o extends s.SHA2{constructor(){super(128,64,16,false);this.Ah=1779033703|0;this.Al=4089235720|0;this.Bh=3144134277|0;this.Bl=2227873595|0;this.Ch=1013904242|0;this.Cl=4271175723|0;this.Dh=2773480762|0;this.Dl=1595750129|0;this.Eh=1359893119|0;this.El=2917565137|0;this.Fh=2600822924|0;this.Fl=725511199|0;this.Gh=528734635|0;this.Gl=4215389547|0;this.Hh=1541459225|0;this.Hl=327033209|0}get(){const{Ah:t,Al:e,Bh:n,Bl:s,Ch:r,Cl:o,Dh:i,Dl:c,Eh:f,El:h,Fh:a,Fl:u,Gh:l,Gl:d,Hh:p,Hl:y}=this;return[t,e,n,s,r,o,i,c,f,h,a,u,l,d,p,y]}set(t,e,n,s,r,o,i,c,f,h,a,u,l,d,p,y){this.Ah=t|0;this.Al=e|0;this.Bh=n|0;this.Bl=s|0;this.Ch=r|0;this.Cl=o|0;this.Dh=i|0;this.Dl=c|0;this.Eh=f|0;this.El=h|0;this.Fh=a|0;this.Fl=u|0;this.Gh=l|0;this.Gl=d|0;this.Hh=p|0;this.Hl=y|0}process(e,n){for(let t=0;t<16;t++,n+=4){V[t]=e.getUint32(n);z[t]=e.getUint32(n+=4)}for(let t=16;t<80;t++){const x=V[t-15]|0;const E=z[t-15]|0;const B=G.default.rotrSH(x,E,1)^G.default.rotrSH(x,E,8)^G.default.shrSH(x,E,7);const m=G.default.rotrSL(x,E,1)^G.default.rotrSL(x,E,8)^G.default.shrSL(x,E,7);const A=V[t-2]|0;const H=z[t-2]|0;const S=G.default.rotrSH(A,H,19)^G.default.rotrBH(A,H,61)^G.default.shrSH(A,H,6);const v=G.default.rotrSL(A,H,19)^G.default.rotrBL(A,H,61)^G.default.shrSL(A,H,6);const _=G.default.add4L(m,v,z[t-7],z[t-16]);const U=G.default.add4H(_,B,S,V[t-7],V[t-16]);V[t]=U|0;z[t]=_|0}let{Ah:s,Al:r,Bh:o,Bl:i,Ch:c,Cl:f,Dh:h,Dl:a,Eh:u,El:l,Fh:d,Fl:p,Gh:y,Gl:b,Hh:w,Hl:g}=this;for(let t=0;t<80;t++){const I=G.default.rotrSH(u,l,14)^G.default.rotrSH(u,l,18)^G.default.rotrBH(u,l,41);const L=G.default.rotrSL(u,l,14)^G.default.rotrSL(u,l,18)^G.default.rotrBL(u,l,41);const R=u&d^~u&y;const O=l&p^~l&b;const T=G.default.add5L(g,L,O,k[t],z[t]);const C=G.default.add5H(T,w,I,R,K[t],V[t]);const P=T|0;const j=G.default.rotrSH(s,r,28)^G.default.rotrBH(s,r,34)^G.default.rotrBH(s,r,39);const D=G.default.rotrSL(s,r,28)^G.default.rotrBL(s,r,34)^G.default.rotrBL(s,r,39);const M=s&o^s&c^o&c;const N=r&i^r&f^i&f;w=y|0;g=b|0;y=d|0;b=p|0;d=u|0;p=l|0;({h:u,l}=G.default.add(h|0,a|0,C|0,P|0));h=c|0;a=f|0;c=o|0;f=i|0;o=s|0;i=r|0;const F=G.default.add3L(P,D,N);s=G.default.add3H(F,C,j,M);r=F|0}({h:s,l:r}=G.default.add(this.Ah|0,this.Al|0,s|0,r|0));({h:o,l:i}=G.default.add(this.Bh|0,this.Bl|0,o|0,i|0));({h:c,l:f}=G.default.add(this.Ch|0,this.Cl|0,c|0,f|0));({h,l:a}=G.default.add(this.Dh|0,this.Dl|0,h|0,a|0));({h:u,l}=G.default.add(this.Eh|0,this.El|0,u|0,l|0));({h:d,l:p}=G.default.add(this.Fh|0,this.Fl|0,d|0,p|0));({h:y,l:b}=G.default.add(this.Gh|0,this.Gl|0,y|0,b|0));({h:w,l:g}=G.default.add(this.Hh|0,this.Hl|0,w|0,g|0));this.set(s,r,o,i,c,f,h,a,u,l,d,p,y,b,w,g)}roundClean(){V.fill(0);z.fill(0)}destroy(){this.buffer.fill(0);this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}n.SHA512=o;class i extends o{constructor(){super();this.Ah=2352822216|0;this.Al=424955298|0;this.Bh=1944164710|0;this.Bl=2312950998|0;this.Ch=502970286|0;this.Cl=855612546|0;this.Dh=1738396948|0;this.Dl=1479516111|0;this.Eh=258812777|0;this.El=2077511080|0;this.Fh=2011393907|0;this.Fl=79989058|0;this.Gh=1067287976|0;this.Gl=1780299464|0;this.Hh=286451373|0;this.Hl=2446758561|0;this.outputLen=28}}class c extends o{constructor(){super();this.Ah=573645204|0;this.Al=4230739756|0;this.Bh=2673172387|0;this.Bl=3360449730|0;this.Ch=596883563|0;this.Cl=1867755857|0;this.Dh=2520282905|0;this.Dl=1497426621|0;this.Eh=2519219938|0;this.El=2827943907|0;this.Fh=3193839141|0;this.Fl=1401305490|0;this.Gh=721525244|0;this.Gl=746961066|0;this.Hh=246885852|0;this.Hl=2177182882|0;this.outputLen=32}}class f extends o{constructor(){super();this.Ah=3418070365|0;this.Al=3238371032|0;this.Bh=1654270250|0;this.Bl=914150663|0;this.Ch=2438529370|0;this.Cl=812702999|0;this.Dh=355462360|0;this.Dl=4144912697|0;this.Eh=1731405415|0;this.El=4290775857|0;this.Fh=2394180231|0;this.Fl=1750603025|0;this.Gh=3675008525|0;this.Gl=1694076839|0;this.Hh=1203062813|0;this.Hl=3204075428|0;this.outputLen=48}}n.sha512=(0,r.wrapConstructor)(()=>new o);n.sha512_224=(0,r.wrapConstructor)(()=>new i);n.sha512_256=(0,r.wrapConstructor)(()=>new c);n.sha384=(0,r.wrapConstructor)(()=>new f)},{"./_sha2.js":4,"./_u64.js":5,"./utils.js":11}],11:[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});i.randomBytes=i.wrapConstructorWithOpts=i.wrapConstructor=i.checkOpts=i.Hash=i.concatBytes=i.toBytes=i.utf8ToBytes=i.asyncLoop=i.nextTick=i.hexToBytes=i.bytesToHex=i.isLE=i.rotr=i.createView=i.u32=i.u8=void 0;const n=t("@noble/hashes/crypto");const s=t=>new Uint8Array(t.buffer,t.byteOffset,t.byteLength);i.u8=s;const r=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4));i.u32=r;const o=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);i.createView=o;const c=(t,e)=>t<<32-e|t>>>e;i.rotr=c;i.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!i.isLE)throw new Error("Non little-endian hardware is not supported");const f=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function h(e){if(!(e instanceof Uint8Array))throw new Error("Uint8Array expected");let n="";for(let t=0;t<e.length;t++){n+=f[e[t]]}return n}i.bytesToHex=h;function a(e){if(typeof e!=="string"){throw new TypeError("hexToBytes: expected string, got "+typeof e)}if(e.length%2)throw new Error("hexToBytes: received invalid unpadded hex");const n=new Uint8Array(e.length/2);for(let t=0;t<n.length;t++){const s=t*2;const r=e.slice(s,s+2);const o=Number.parseInt(r,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[t]=o}return n}i.hexToBytes=a;const u=async()=>{};i.nextTick=u;async function l(e,n,s){let r=Date.now();for(let t=0;t<e;t++){s(t);const o=Date.now()-r;if(o>=0&&o<n)continue;await(0,i.nextTick)();r+=o}}i.asyncLoop=l;function d(t){if(typeof t!=="string"){throw new TypeError(`utf8ToBytes expected string, got ${typeof t}`)}return(new TextEncoder).encode(t)}i.utf8ToBytes=d;function p(t){if(typeof t==="string")t=d(t);if(!(t instanceof Uint8Array))throw new TypeError(`Expected input type is Uint8Array (got ${typeof t})`);return t}i.toBytes=p;function y(...n){if(!n.every(t=>t instanceof Uint8Array))throw new Error("Uint8Array list expected");if(n.length===1)return n[0];const t=n.reduce((t,e)=>t+e.length,0);const s=new Uint8Array(t);for(let t=0,e=0;t<n.length;t++){const r=n[t];s.set(r,e);e+=r.length}return s}i.concatBytes=y;class b{clone(){return this._cloneInto()}}i.Hash=b;const w=t=>Object.prototype.toString.call(t)==="[object Object]"&&t.constructor===Object;function g(t,e){if(e!==undefined&&(typeof e!=="object"||!w(e)))throw new TypeError("Options should be object or undefined");const n=Object.assign(t,e);return n}i.checkOpts=g;function x(e){const t=t=>e().update(p(t)).digest();const n=e();t.outputLen=n.outputLen;t.blockLen=n.blockLen;t.create=()=>e();return t}i.wrapConstructor=x;function E(n){const t=(t,e)=>n(e).update(p(t)).digest();const e=n({});t.outputLen=e.outputLen;t.blockLen=e.blockLen;t.create=t=>n(t);return t}i.wrapConstructorWithOpts=E;function B(t=32){if(n.crypto.web){return n.crypto.web.getRandomValues(new Uint8Array(t))}else if(n.crypto.node){return new Uint8Array(n.crypto.node.randomBytes(t).buffer)}else{throw new Error("The environment doesn't have randomBytes function")}}i.randomBytes=B},{"@noble/hashes/crypto":6}],"micro-ed25519-hdkey":[function(t,e,i){"use strict";Object.defineProperty(i,"__esModule",{value:true});i.HDKey=i.HARDENED_OFFSET=i.MASTER_SECRET=void 0;const n=t("@noble/ed25519");const s=t("@noble/hashes/hmac");const r=t("@noble/hashes/ripemd160");const o=t("@noble/hashes/sha256");const c=t("@noble/hashes/sha512");const f=t("@noble/hashes/utils");const h=t("@noble/hashes/_assert");n.utils.sha512Sync=(...t)=>(0,c.sha512)(n.utils.concatBytes(...t));i.MASTER_SECRET=(0,f.utf8ToBytes)("ed25519 seed");i.HARDENED_OFFSET=2147483648;const a=new Uint8Array([0]);function u(t,...e){if(typeof t==="string")t=(0,f.hexToBytes)(t);(0,h.bytes)(t,...e);return t}const l=t=>(0,r.ripemd160)((0,o.sha256)(t));const d=t=>(0,f.createView)(t).getUint32(0,false);const p=t=>{if(!Number.isSafeInteger(t)||t<0||t>2**32-1){throw new Error(`Invalid number=${t}. Should be from 0 to 2 ** 32 - 1`)}const e=new Uint8Array(4);(0,f.createView)(e).setUint32(0,t,false);return e};class y{constructor(t){this.depth=0;this.index=0;this.parentFingerprint=0;if(!t||typeof t!=="object")throw new Error("HDKey.constructor must not be called directly");(0,h.bytes)(t.privateKey,32);(0,h.bytes)(t.chainCode,32);this.depth=t.depth||0;this.index=t.index||0;this.parentFingerprint=t.parentFingerprint||0;if(!this.depth){if(this.parentFingerprint||this.index)throw new Error("HDKey: zero depth with non-zero index/parent fingerprint")}this.chainCode=t.chainCode;this.privateKey=t.privateKey}get publicKeyRaw(){return n.sync.getPublicKey(this.privateKey)}get publicKey(){return(0,f.concatBytes)(a,this.publicKeyRaw)}get pubHash(){return l(this.publicKey)}get fingerprint(){return d(this.pubHash)}get fingerprintHex(){return(0,f.bytesToHex)(p(this.fingerprint))}get parentFingerprintHex(){return(0,f.bytesToHex)(p(this.parentFingerprint))}static fromMasterSeed(t){t=u(t);if(8*t.length<128||8*t.length>512){throw new Error(`HDKey: wrong seed length=${t.length}. Should be between 128 and 512 bits; 256 bits is advised)`)}const e=(0,s.hmac)(c.sha512,i.MASTER_SECRET,t);return new y({privateKey:e.slice(0,32),chainCode:e.slice(32)})}derive(t,e=false){if(!/^[mM]'?/.test(t))throw new Error('Path must start with "m" or "M"');if(/^[mM]'?$/.test(t))return this;const n=t.replace(/^[mM]'?\//,"").split("/");let s=this;for(const r of n){const o=/^(\d+)('?)$/.exec(r);if(!o||o.length!==3)throw new Error(`Invalid child index: ${r}`);let t=+o[1];if(!Number.isSafeInteger(t)||t>=i.HARDENED_OFFSET)throw new Error("Invalid index");if(e||o[2]==="'")t+=i.HARDENED_OFFSET;s=s.deriveChild(t)}return s}deriveChild(t){if(t<i.HARDENED_OFFSET)throw new Error(`Non-hardened child derivation not possible for Ed25519 (index=${t})`);const e=(0,f.concatBytes)(a,this.privateKey,p(t));const n=(0,s.hmac)(c.sha512,this.chainCode,e);return new y({chainCode:n.slice(32),depth:this.depth+1,parentFingerprint:this.fingerprint,index:t,privateKey:n.slice(0,32)})}sign(t){t=u(t,32);return n.sync.sign(t,this.privateKey)}verify(t,e){t=u(t,32);e=u(e,64);return n.sync.verify(e,t,this.publicKeyRaw)}}i.HDKey=y},{"@noble/ed25519":1,"@noble/hashes/_assert":3,"@noble/hashes/hmac":7,"@noble/hashes/ripemd160":8,"@noble/hashes/sha256":9,"@noble/hashes/sha512":10,"@noble/hashes/utils":11}]},{},[])("micro-ed25519-hdkey")});